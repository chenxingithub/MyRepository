webpackJsonp([3],{"2E9n":function(e,t,a){"use strict";function s(e){l||a("5e+N")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("68k3"),o=a("JufV"),l=!1,r=a("VU/8"),n=s,d=r(i.a,o.a,!1,n,null,null);d.options.__file="src\\components\\admin\\wechatApp\\Focus.vue",d.esModule&&Object.keys(d.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),t.default=d.exports},"5e+N":function(e,t,a){var s=a("bXJ5");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("rjj0")("a4970332",s,!1)},"68k3":function(e,t,a){"use strict";var s=a("bOdI"),i=a.n(s);a("NYxO");t.a={data:function(){var e;return e={ImgPrefix:"",defaultMsg:"这里是UE测试",loading:!1,config:{initialFrameWidth:null,initialFrameHeight:350},myName:"游戏列表"},i()(e,"loading",!0),i()(e,"items",[]),i()(e,"total",null),i()(e,"listQuery",{page:1,limit:10,keyword:"",sort:""}),i()(e,"SortType",[{value:"",label:"请选择"},{value:1,label:"是"},{value:0,label:"否"}]),i()(e,"textMap",{update:"编辑",create:"创建"}),i()(e,"dialogFormVisible",!1),i()(e,"dialogStatus",""),i()(e,"headers",{"X-CSRF-TOKEN":Laravel.csrfToken}),i()(e,"temp",{id:"",idfa:"",game_name:"",ios_dow_code_img:"",android_dow_code_img:"",official_url:"",video_url:"",ios_download_url:"",android_download_url:"",service_qq:"",service_phone:"",sketch:"",logo_url:"",label:"",type:"",sort:""}),i()(e,"beforeAvatarUpload",function(e){var t="image/jpeg"===e.type,a="image/png"===e.type,s="image/gif"===e.type,i=e.size/1024/1024<2;return t||a||s||this.$message.error("上传头像图片只能是 JPG|PNG|GIF 格式!"),i||this.$message.error("上传头像图片大小不能超过 2MB!"),(t||a||s)&&i}),i()(e,"rules",{game_name:[{required:!0,message:"请输入游戏名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],type:[{required:!0,message:"请选择游戏类型",trigger:"change"}],label:[{required:!0,message:"请选择游戏标识",trigger:"change"}],idfa:[{required:!0,message:"请输入游戏标识",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],official_url:[{required:!0,message:"请输入官网链接",trigger:"blur"},{min:1,max:200,message:"长度在 1 到 200 个字符",trigger:"blur"}]}),i()(e,"imgUrl","/upload/image"),e},methods:{loadData:function(){var e=this;this.loading=!0;this.$axios.get("/games/get",{headers:this.$store.state.headers,params:this.listQuery}).then(function(t){e.items=t.data.data,e.total=t.data.total,e.loading=!1})},getUEContent:function(){var e=this.$refs.ue.getUEContent();alert(e),console.log(e)},handleSizeChange:function(e){this.listQuery.limit=e,this.loadData()},handleCurrentChange:function(e){this.listQuery.page=e,this.loadData()},handleFilter:function(){this.loadData()},handleIosSuccess:function(e,t){e.url&&(this.temp.ios_dow_code_img=e.url)},handleLogoSuccess:function(e,t){e.url&&(this.temp.logo_url=e.url)},handleAndroidSuccess:function(e,t){e.url&&(this.temp.android_dow_code_img=e.url)},handleCreate:function(){this.dialogStatus="create",this.temp.id="",this.temp.idfa="",this.temp.game_name="",this.temp.ios_dow_code_img="",this.temp.android_dow_code_img="",this.temp.official_url="",this.temp.video_url="",this.temp.ios_download_url="",this.temp.android_download_url="",this.temp.service_qq="",this.temp.service_phone="",this.temp.sort="",this.temp.sketch="",this.temp.logo_url="",this.temp.label="",this.temp.type="",this.dialogFormVisible=!0},handleDownload:function(){window.open(window.location.protocol+"//"+window.location.host+"/admin/user/excel?q="+this.listQuery.q)},handleUpdate:function(e){this.dialogStatus="update",this.temp.id=e.id,this.temp.idfa=e.idfa,this.temp.game_name=e.game_name,this.temp.ios_dow_code_img=e.ios_dow_code_img,this.temp.android_dow_code_img=e.android_dow_code_img,this.temp.official_url=e.official_url,this.temp.video_url=e.video_url,this.temp.ios_download_url=e.ios_download_url,this.temp.android_download_url=e.android_download_url,this.temp.service_qq=e.service_qq,this.temp.service_phone=e.service_phone,this.temp.sketch=e.sketch,this.temp.logo_url=e.logo_url,this.temp.sort=e.sort,this.temp.label=e.label.toString(),this.temp.type=e.type.toString(),this.dialogFormVisible=!0},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该游戏, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.delete("/games/delete/"+e.id).then(function(e){200===e.status?(t.$message({showClose:!0,message:0===e.data.message.length?"删除成功":e.data.message,type:"success"}),t.loadData()):t.$message({showClose:!0,message:0===e.data.message.length?"删除失败":e.data.message,type:"error"})},function(e){t.$message({showClose:!0,message:"删除失败",type:"error"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleUpload:function(){this.dialogUserVisible=!0},update:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.$axios.put("/games/put/"+t.temp.id,{idfa:t.temp.idfa,game_name:t.temp.game_name,ios_dow_code_img:t.temp.ios_dow_code_img,android_dow_code_img:t.temp.android_dow_code_img,official_url:t.temp.official_url,video_url:t.temp.video_url,ios_download_url:t.temp.ios_download_url,android_download_url:t.temp.android_download_url,service_phone:t.temp.service_phone,service_qq:t.temp.service_qq,sketch:t.temp.sketch,logo_url:t.temp.logo_url,label:t.temp.label,type:t.temp.type,action:"changeContent"}).then(function(e){200===e.status?(t.$message({showClose:!0,message:0===e.data.message.length?"修改成功！":e.data.message,type:"success"}),t.dialogFormVisible=!1,t.loadData()):t.$message({showClose:!0,message:0===e.data.message.length?"修改失败！":e.data.message,type:"error"})},function(e){if(422===e.status){var a=0===e.data.password.size?"":e.data.password;t.$message({showClose:!0,message:a,type:"error"})}})})},create:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.$axios.post("/games/post",{idfa:t.temp.idfa,game_name:t.temp.game_name,ios_dow_code_img:t.temp.ios_dow_code_img,android_dow_code_img:t.temp.android_dow_code_img,official_url:t.temp.official_url,video_url:t.temp.video_url,ios_download_url:t.temp.ios_download_url,android_download_url:t.temp.android_download_url,service_phone:t.temp.service_phone,logo_url:t.temp.logo_url,service_qq:t.temp.service_qq,label:t.temp.label,type:t.temp.type,sketch:t.temp.sketch}).then(function(e){200===e.status?(t.$message({showClose:!0,message:0===e.data.message.length?"操作成功":e.data.message,type:"success"}),t.dialogFormVisible=!1,t.loadData()):t.$message({showClose:!0,message:0===e.data.message.length?"操作失败":e.data.message,type:"error"})},function(e){if(422===e.status){var a="";$.each(e.data,function(e,t){a+=t}),t.$message({showClose:!0,message:a,type:"error"})}})})},handleModifyStatus:function(e,t){var a=this;this.$axios.put("/admin/wzdqqhd/focus/put/"+e.id,{status:t,action:"changeStatus"}).then(function(e){console.log(e),200===e.status?(a.$message({showClose:!0,message:0===e.data.message.length?"锁定/解锁，成功":e.data.message,type:"success"}),a.loadData()):a.$message({showClose:!0,message:0===e.data.message.length?"锁定失败":e.data.message,type:"error"})})},handleModifySort:function(e,t){var a=this;this.$axios.put("/games/put/"+e.id,{sort:t,action:"changeSort"}).then(function(e){console.log(e),200===e.status?(a.$message({showClose:!0,message:0===e.data.message.length?"置顶成功！":e.data.message,type:"success"}),a.loadData()):a.$message({showClose:!0,message:0===e.data.message.length?"置顶失败！":e.data.message,type:"error"})})}},created:function(){this.loadData()},filters:{statusFilter:function(e){return{0:"success",1:"gray"}[parseInt(e)]},statusShow:function(e){return{0:"正常",1:"禁用"}[parseInt(e)]},positionShow:function(e){return{1:"主页",2:"新闻"}[parseInt(e)]},labelShow:function(e){return{0:"普通",1:"火爆",2:"最新",3:"推荐"}[parseInt(e)]},typeShow:function(e){return{1:"官网&公众号",2:"官网",3:"公众号"}[parseInt(e)]}}}},JufV:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"content-wrapper",staticStyle:{"min-height":"901px","margin-top":"4.5rem"},attrs:{"element-loading-text":"拼命加载中"}},[a("section",{staticClass:"content-header"},[e._m(0),e._v(" "),a("ol",{staticClass:"breadcrumb"},[a("li",[a("router-link",{attrs:{to:"/admin/user",tag:"a"}},[a("i",{staticClass:"fa fa-user"}),e._v(" 游戏")])],1),e._v(" "),a("li",{staticClass:"active"},[e._v("列表")])])]),e._v(" "),a("section",{staticClass:"content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"box box-info"},[e._m(1),e._v(" "),a("div",{staticClass:"box-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"50%"},attrs:{placeholder:"标题/标识"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleFilter(t)}},model:{value:e.listQuery.keyword,callback:function(t){e.$set(e.listQuery,"keyword",t)},expression:"listQuery.keyword"}})],1),e._v(" "),a("div",{staticClass:"col-md-3"},[e._v("\r\n                                    置顶：\r\n                                    "),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.listQuery.sort,callback:function(t){e.$set(e.listQuery,"sort",t)},expression:"listQuery.sort"}},e._l(e.SortType,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"col-md-6"},[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"search"},on:{click:e.handleFilter}},[e._v("搜索")]),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"edit"},on:{click:e.handleCreate}},[e._v("添加")])],1)])]),e._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"box-header with-border"},[a("h3",{staticClass:"box-title"},[e._v(e._s(e.myName))]),e._v(" "),a("div",{staticClass:"box-tools"})]),e._v(" "),a("div",{staticClass:"table-responsive no-padding"},[a("table",{staticClass:"table table-hover"},[a("tbody",[e._m(2),e._v(" "),e._l(e.items,function(t){return a("tr",[a("td",[e._v(e._s(t.id))]),e._v(" "),a("td",[a("span",{staticClass:"link-type"},[a("img",{staticClass:"media-object img-circle",staticStyle:{width:"46px",height:"46px"},attrs:{src:e.ImgPrefix+t.logo_url}})])]),e._v(" "),a("td",[a("el-tag",{attrs:{type:e._f("statusFilter")(t.label)}},[e._v(e._s(e._f("labelShow")(t.label)))])],1),e._v(" "),a("td",[a("el-tag",{attrs:{type:e._f("statusFilter")(t.type)}},[e._v(e._s(e._f("typeShow")(t.type)))])],1),e._v(" "),a("td",[e._v(e._s(t.game_name))]),e._v(" "),a("td",[e._v(e._s(t.sketch))]),e._v(" "),a("td",[e._v(e._s(t.official_url))]),e._v(" "),a("td",[e._v(e._s(t.idfa))]),e._v(" "),a("td",[e._v(e._s(t.created_at))]),e._v(" "),a("td",[0==parseInt(t.sort)?a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(a){e.handleModifySort(t,1)}}},[e._v("置顶\r\n                                            ")]):e._e(),e._v(" "),1==parseInt(t.sort)?a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleModifySort(t,0)}}},[e._v("取消置顶\r\n                                            ")]):e._e()],1),e._v(" "),a("td",[a("el-button",{attrs:{size:"small",type:"info",icon:"edit"},on:{click:function(a){e.handleUpdate(t)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger",icon:"delete"},on:{click:function(a){e.handleDelete(t)}}},[e._v("删除")])],1)])})],2)])]),e._v(" "),a("div",{staticClass:"box-footer clearfix"},[a("div",{staticClass:"pull-right"},[a("el-pagination",{attrs:{"current-page":e.listQuery.page,"page-sizes":[10,20,30,50],"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])]),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,size:"small"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"temp",staticClass:"small-space",staticStyle:{width:"800px","margin-left":"100px"},attrs:{model:e.temp,rules:e.rules,"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"游戏logo"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.imgUrl,"show-file-list":!1,headers:e.headers,"on-success":e.handleLogoSuccess,"before-upload":e.beforeAvatarUpload}},[e.temp.logo_url?a("img",{staticClass:"avatar media-object",attrs:{src:e.ImgPrefix+e.temp.logo_url}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon media-object "})])],1),e._v(" "),a("el-form-item",{attrs:{label:"ios下载图"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.imgUrl,"show-file-list":!1,headers:e.headers,"on-success":e.handleIosSuccess,"before-upload":e.beforeAvatarUpload}},[e.temp.ios_dow_code_img?a("img",{staticClass:"avatar media-object",attrs:{src:e.ImgPrefix+e.temp.ios_dow_code_img}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon media-object "})])],1),e._v(" "),a("el-form-item",{attrs:{label:"android下载图"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.imgUrl,"show-file-list":!1,headers:e.headers,"on-success":e.handleAndroidSuccess,"before-upload":e.beforeAvatarUpload}},[e.temp.android_dow_code_img?a("img",{staticClass:"avatar media-object",attrs:{src:e.ImgPrefix+e.temp.android_dow_code_img}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon media-object "})])],1),e._v(" "),a("el-form-item",{attrs:{label:"游戏名称",prop:"game_name"}},[(e.dialogStatus,a("el-input",{staticStyle:{width:"50%"},model:{value:e.temp.game_name,callback:function(t){e.$set(e.temp,"game_name",t)},expression:"temp.game_name"}}))],1),e._v(" "),a("el-form-item",{attrs:{label:"游戏标识",prop:"idfa"}},[(e.dialogStatus,a("el-input",{staticStyle:{width:"50%"},model:{value:e.temp.idfa,callback:function(t){e.$set(e.temp,"idfa",t)},expression:"temp.idfa"}}))],1),e._v(" "),a("el-form-item",{attrs:{label:"游戏标签",prop:"label"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.temp.label,callback:function(t){e.$set(e.temp,"label",t)},expression:"temp.label"}},[a("el-option",{attrs:{label:"普通",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"火爆",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"最新",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"推荐",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.temp.type,callback:function(t){e.$set(e.temp,"type",t)},expression:"temp.type"}},[a("el-option",{attrs:{label:"官网&公众号",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"官网",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"公众号",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"官网链接",prop:"official_url"}},[(e.dialogStatus,a("el-input",{staticStyle:{width:"50%"},model:{value:e.temp.official_url,callback:function(t){e.$set(e.temp,"official_url",t)},expression:"temp.official_url"}}))],1),e._v(" "),a("el-form-item",{attrs:{label:"视频链接",prop:"video_url"}},[(e.dialogStatus,a("el-input",{staticStyle:{width:"50%"},model:{value:e.temp.video_url,callback:function(t){e.$set(e.temp,"video_url",t)},expression:"temp.video_url"}}))],1),e._v(" "),a("el-form-item",{attrs:{label:"游戏简述",prop:"sketch"}},[(e.dialogStatus,a("el-input",{staticStyle:{width:"50%"},model:{value:e.temp.sketch,callback:function(t){e.$set(e.temp,"sketch",t)},expression:"temp.sketch"}}))],1),e._v(" "),a("el-form-item",{attrs:{label:"ios下载链接",prop:"ios_download_url"}},[(e.dialogStatus,a("el-input",{staticStyle:{width:"50%"},model:{value:e.temp.ios_download_url,callback:function(t){e.$set(e.temp,"ios_download_url",t)},expression:"temp.ios_download_url"}}))],1),e._v(" "),a("el-form-item",{attrs:{label:"android下载链接",prop:"android_download_url"}},[(e.dialogStatus,a("el-input",{staticStyle:{width:"50%"},model:{value:e.temp.android_download_url,callback:function(t){e.$set(e.temp,"android_download_url",t)},expression:"temp.android_download_url"}}))],1),e._v(" "),a("el-form-item",{attrs:{label:"客服QQ(多个逗号分隔)",prop:"ios_download_url"}},[(e.dialogStatus,a("el-input",{staticStyle:{width:"50%"},model:{value:e.temp.service_qq,callback:function(t){e.$set(e.temp,"service_qq",t)},expression:"temp.service_qq"}}))],1),e._v(" "),a("el-form-item",{attrs:{label:"客服phone(多个逗号分隔)",prop:"service_phone"}},[(e.dialogStatus,a("el-input",{staticStyle:{width:"50%"},model:{value:e.temp.service_phone,callback:function(t){e.$set(e.temp,"service_phone",t)},expression:"temp.service_phone"}}))],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),"create"==e.dialogStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.create("temp")}}},[e._v("确 定")]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.update("temp")}}},[e._v("确 定")])],1)],1)],1)])])])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",[e._v("\r\n        列表\r\n        "),a("small",[e._v("游戏")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box-header with-border"},[a("h3",{staticClass:"box-title"},[e._v("搜索选择")]),e._v(" "),a("div",{staticClass:"box-tools pull-right"},[a("button",{staticClass:"btn btn-box-tool",attrs:{type:"button","data-widget":"collapse"}},[a("i",{staticClass:"fa fa-minus"})]),e._v(" "),a("button",{staticClass:"btn btn-box-tool",attrs:{type:"button","data-widget":"remove"}},[a("i",{staticClass:"fa fa-times"})])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",{staticStyle:{width:"10px"}},[e._v("ID")]),e._v(" "),a("th",{staticStyle:{width:"5%"}},[e._v("游戏logo")]),e._v(" "),a("th",[e._v("游戏标签")]),e._v(" "),a("th",[e._v("类型")]),e._v(" "),a("th",[e._v("游戏名称")]),e._v(" "),a("th",[e._v("游戏简述")]),e._v(" "),a("th",[e._v("官网链接")]),e._v(" "),a("th",[e._v("标识")]),e._v(" "),a("th",[e._v("创建时间")]),e._v(" "),a("th",[e._v("一键置顶")]),e._v(" "),a("th",[e._v("操作")])])}];s._withStripped=!0;var o={render:s,staticRenderFns:i};t.a=o},bXJ5:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,"\n.el-upload__input {\n\t\tdisplay: none !important;\n}\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #20a0ff;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n\n",""])}});