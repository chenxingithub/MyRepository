webpackJsonp([3],{"1peh":function(t,e,a){var s=a("XAtA");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("e115160c",s,!1)},AXeN:function(t,e,a){"use strict";var s=a("bOdI"),i=a.n(s);a("NYxO");e.a={data:function(){var t;return t={ImgPrefix:"",GameInfo:"",content:"2312312312",loading:!1,config:{initialFrameWidth:null,initialFrameHeight:350},myName:"焦点图列表"},i()(t,"loading",!0),i()(t,"items",[]),i()(t,"total",null),i()(t,"listQuery",{page:1,limit:10,keyword:""}),i()(t,"textMap",{update:"编辑",create:"创建"}),i()(t,"dialogFormVisible",!1),i()(t,"dialogStatus",""),i()(t,"headers",{"X-CSRF-TOKEN":Laravel.csrfToken}),i()(t,"temp",{id:"",img_url:"",jump_url:""}),i()(t,"beforeAvatarUpload",function(t){var e="image/jpeg"===t.type,a="image/png"===t.type,s="image/gif"===t.type,i=t.size/1024/1024<2;return e||a||s||this.$message.error("上传头像图片只能是 JPG|PNG|GIF 格式!"),i||this.$message.error("上传头像图片大小不能超过 2MB!"),(e||a||s)&&i}),i()(t,"rules",{title:[{required:!0,message:"请输入轮播图标题",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],position:[{type:"number",required:!0,message:"请选择位置",trigger:"change"}],terminal:[{required:!0,message:"请选择终端",trigger:"change"}]}),i()(t,"avatarUrl","/upload/image"),t},methods:{loadData:function(){var t=this;this.loading=!0;this.$axios.get("/wechat-app/focus",{headers:this.$store.state.headers,params:this.listQuery}).then(function(e){t.items=e.data.data,t.total=e.data.total,t.loading=!1})},getUEContent:function(){var t=this.$refs.ue.getUEContent();alert(t),console.log(t)},handleSizeChange:function(t){this.listQuery.limit=t,this.loadData()},handleCurrentChange:function(t){this.listQuery.page=t,this.loadData()},handleFilter:function(){this.loadData()},handleAvatarSuccess:function(t,e){console.log(t),t.url&&(this.temp.img_url=t.url)},handleCreate:function(){this.dialogStatus="create",this.temp.img_url="",this.temp.jump_url="",this.dialogFormVisible=!0},handleDownload:function(){window.open(window.location.protocol+"//"+window.location.host+"/admin/user/excel?q="+this.listQuery.q)},handleUpdate:function(t){this.dialogStatus="update",this.temp.id=t.id,this.temp.img_url=t.img_url,this.temp.jump_url=t.jump_url,this.dialogFormVisible=!0},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除改用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.delete("/wechat-app/focus/"+t.id).then(function(t){200===t.status?(e.$message({showClose:!0,message:0===t.data.message.length?"删除成功":t.data.message,type:"success"}),e.loadData()):e.$message({showClose:!0,message:0===t.data.message.length?"删除失败":t.data.message,type:"error"})},function(t){e.$message({showClose:!0,message:"删除失败",type:"error"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleUpload:function(){this.dialogUserVisible=!0},update:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.$axios.put("/wechat-app/focus/"+e.temp.id,{img_url:e.temp.img_url,jump_url:e.temp.jump_url,action:"changeContent"}).then(function(t){200===t.status?(e.$message({showClose:!0,message:0===t.data.message.length?"修改成功！":t.data.message,type:"success"}),e.dialogFormVisible=!1,e.loadData()):e.$message({showClose:!0,message:0===t.data.message.length?"修改失败！":t.data.message,type:"error"})},function(t){if(422===t.status){var a=0===t.data.password.size?"":t.data.password;e.$message({showClose:!0,message:a,type:"error"})}})})},create:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.$axios.post("/wechat-app/focus",{img_url:e.temp.img_url,title:e.temp.title,jump_url:e.temp.jump_url}).then(function(t){200===t.status?(e.$message({showClose:!0,message:0===t.data.message.length?"操作成功":t.data.message,type:"success"}),e.dialogFormVisible=!1,e.loadData()):e.$message({showClose:!0,message:0===t.data.message.length?"操作失败":t.data.message,type:"error"})},function(t){if(422===t.status){var a="";$.each(t.data,function(t,e){a+=e}),e.$message({showClose:!0,message:a,type:"error"})}})})},handleModifyStatus:function(t,e){var a=this;this.$axios.put("/wechat-app/focus/"+t.id,{status:e,action:"changeStatus"}).then(function(t){console.log(t),200===t.status?(a.$message({showClose:!0,message:0===t.data.message.length?"锁定/解锁，成功":t.data.message,type:"success"}),a.loadData()):a.$message({showClose:!0,message:0===t.data.message.length?"锁定失败":t.data.message,type:"error"})})},handleModifySort:function(t){var e=this;this.$axios.put("/wechat-app/focus/"+t.id,{sort:t.sort,action:"changeSort"}).then(function(t){console.log(t),200===t.status?(e.$message({showClose:!0,message:0===t.data.message.length?"修改排序成功！":t.data.message,type:"success"}),e.loadData()):e.$message({showClose:!0,message:0===t.data.message.length?"修改排序失败！":t.data.message,type:"error"})})}},created:function(){this.loadData()},filters:{statusFilter:function(t){return{0:"success",1:"gray"}[parseInt(t)]},statusShow:function(t){return{0:"正常",1:"禁用"}[parseInt(t)]}}}},XAtA:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,"\n.el-upload__input {\n      display: none !important;\n}\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #20a0ff;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n\n",""])},YcIC:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"content-wrapper",staticStyle:{"min-height":"901px","margin-top":"4.5rem"},attrs:{"element-loading-text":"拼命加载中"}},[t._m(0),t._v(" "),a("section",{staticClass:"content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"box box-info"},[t._m(1),t._v(" "),a("div",{staticClass:"box-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"50%"},attrs:{placeholder:"跳转地址"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.handleFilter(e)}},model:{value:t.listQuery.keyword,callback:function(e){t.$set(t.listQuery,"keyword",e)},expression:"listQuery.keyword"}})],1),t._v(" "),a("div",{staticClass:"col-md-3"},[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"search"},on:{click:t.handleFilter}},[t._v("搜索")]),t._v(" "),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"edit"},on:{click:t.handleCreate}},[t._v("添加")])],1)])]),t._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"box-header with-border"},[a("h3",{staticClass:"box-title"},[t._v(t._s(t.myName))]),t._v(" "),a("div",{staticClass:"box-tools"})]),t._v(" "),a("div",{staticClass:"table-responsive no-padding"},[a("table",{staticClass:"table table-hover"},[a("tbody",[t._m(2),t._v(" "),t._l(t.items,function(e){return a("tr",[a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[a("span",{staticClass:"link-type",on:{click:function(a){t.handleUpdate(e)}}},[a("img",{staticClass:"media-object img-circle",staticStyle:{width:"46px",height:"46px"},attrs:{src:t.ImgPrefix+e.img_url}})])]),t._v(" "),a("td",[t._v(t._s(e.jump_url))]),t._v(" "),a("td",[t._v(t._s(e.created_at))]),t._v(" "),a("td",[t._v(t._s(e.updated_at))]),t._v(" "),a("td",[a("el-input",{staticStyle:{width:"50%"},on:{blur:function(a){t.handleModifySort(e)}},model:{value:e.sort,callback:function(a){t.$set(e,"sort",a)},expression:"item['sort']"}})],1),t._v(" "),a("td",[a("el-tag",{attrs:{type:t._f("statusFilter")(e.status)}},[t._v(t._s(t._f("statusShow")(e.status)))])],1),t._v(" "),a("td",[1==parseInt(e.status)?a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(a){t.handleModifyStatus(e,0)}}},[t._v("正常\r\n                                            ")]):t._e(),t._v(" "),0==parseInt(e.status)?a("el-button",{attrs:{size:"small"},on:{click:function(a){t.handleModifyStatus(e,1)}}},[t._v("锁定\r\n                                            ")]):t._e(),t._v(" "),a("el-button",{attrs:{size:"small",type:"danger",icon:"delete"},on:{click:function(a){t.handleDelete(e)}}},[t._v("删除")])],1)])})],2)])]),t._v(" "),a("div",{staticClass:"box-footer clearfix"},[a("div",{staticClass:"pull-right"},[a("el-pagination",{attrs:{"current-page":t.listQuery.page,"page-sizes":[10,20,30,50],"page-size":t.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])]),t._v(" "),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible,size:"small"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"temp",staticClass:"small-space",staticStyle:{width:"800px","margin-left":"100px"},attrs:{model:t.temp,rules:t.rules,"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"焦点图"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.avatarUrl,"show-file-list":!1,headers:t.headers,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.temp.img_url?a("img",{staticClass:"avatar",attrs:{src:t.ImgPrefix+t.temp.img_url}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"跳转Url",prop:"jump_url"}},[(t.dialogStatus,a("el-input",{staticStyle:{width:"50%"},model:{value:t.temp.jump_url,callback:function(e){t.$set(t.temp,"jump_url",e)},expression:"temp.jump_url"}}))],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),"create"==t.dialogStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.create("temp")}}},[t._v("确 定")]):a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.update("temp")}}},[t._v("确 定")])],1)],1)],1)])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content-header"},[a("h1",[t._v("\r\n        盒子游戏\r\n      ")]),t._v(" "),a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"active"},[t._v("列表")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box-header with-border"},[a("h3",{staticClass:"box-title"},[t._v("搜索选择")]),t._v(" "),a("div",{staticClass:"box-tools pull-right"},[a("button",{staticClass:"btn btn-box-tool",attrs:{type:"button","data-widget":"collapse"}},[a("i",{staticClass:"fa fa-minus"})]),t._v(" "),a("button",{staticClass:"btn btn-box-tool",attrs:{type:"button","data-widget":"remove"}},[a("i",{staticClass:"fa fa-times"})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticStyle:{width:"10px"}},[t._v("ID")]),t._v(" "),a("th",{staticStyle:{width:"5%"}},[t._v("图像（点击放大）")]),t._v(" "),a("th",[t._v("跳转链接")]),t._v(" "),a("th",[t._v("创建时间")]),t._v(" "),a("th",[t._v("更新时间")]),t._v(" "),a("th",{staticStyle:{width:"7%"}},[t._v("排序")]),t._v(" "),a("th",[t._v("状态")]),t._v(" "),a("th",[t._v("操作")])])}];s._withStripped=!0;var o={render:s,staticRenderFns:i};e.a=o},wyee:function(t,e,a){"use strict";function s(t){l||a("1peh")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("AXeN"),o=a("YcIC"),l=!1,n=a("VU/8"),r=s,c=n(i.a,o.a,!1,r,null,null);c.options.__file="src\\components\\admin\\wechatApp\\Game.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),e.default=c.exports}});