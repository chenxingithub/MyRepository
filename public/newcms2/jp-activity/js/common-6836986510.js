var domain="https://www.310game.com",log=console.log.bind(console);function initBaseInfo(e,t){var n=bn_utils.getLocalStore("token")||"",o=bn_utils.getLocalStore("user_id")||"";if(!n)return!1;_request({type:"get",url:domain+"/yh-cms-api/jp-turntable/user",suc_fn:e,fail_fn:t,data:{token:n,user_id:o}})}function lotteryReq(e,t){var n=bn_utils.getLocalStore("token")||"",o=bn_utils.getLocalStore("user_id")||"";if(!n)return bn_utils.tipModal("fail","您还未登录！"),!1;_request({type:"post",url:domain+"/yh-cms-api/jp-turntable/select-post",suc_fn:e,fail_fn:t,data:{token:n,user_id:o}})}function lotteryRecord(e,t){var n=bn_utils.getLocalStore("token")||"",o=bn_utils.getLocalStore("user_id")||"";if(!n)return bn_utils.tipModal("fail","您还未登录！"),!1;_request({type:"get",url:domain+"/yh-cms-api/jp-turntable/exchange-record",suc_fn:e,fail_fn:t,data:{token:n,user_id:o}})}function scoreExchange(e,t,n){var o=bn_utils.getLocalStore("token")||"",i=bn_utils.getLocalStore("user_id")||"";if(!o)return bn_utils.tipModal("fail","您还未登录！"),!1;_request({type:"post",url:domain+"/yh-cms-api/jp-turntable/integral-exchange",suc_fn:t,fail_fn:n,data:{token:o,user_id:i,exchange_id:e}})}function userInfoFill(e,t,n){var o=bn_utils.getLocalStore("token")||"",i=bn_utils.getLocalStore("user_id")||"";if(!o)return bn_utils.tipModal("fail","您还未登录！"),!1;_request({type:"post",url:domain+"/yh-cms-api/jp-turntable/receipt-information",suc_fn:t,fail_fn:n,data:{token:o,user_id:i,phone:e.phone,receiving_address:e.address||"",exchange_name:e.exchange_name||"",exchange_record_id:e.id||"",mailbox:e.email||"",real_name:e.real_name||""}})}function wxConf(e,t){var n=bn_utils.getLocalStore("token")||"",o=bn_utils.getLocalStore("user_id")||"";if(!n)return!1;_request({type:"get",url:domain+"/yh-cms-api/jp-turntable/wchat-share-configure",suc_fn:e,fail_fn:t,data:{token:n,user_id:o,url:window.location.href}})}function wxShareSuccess(e,t){var n=bn_utils.getLocalStore("token")||"",o=bn_utils.getLocalStore("user_id")||"";if(!n)return bn_utils.tipModal("fail","您还未登录！"),!1;_request({type:"post",url:domain+"/yh-cms-api/jp-turntable/wchat-share",suc_fn:e,fail_fn:t,data:{token:n,user_id:o}})}function _request(t){$.ajax({type:t.type,async:!0,url:t.url,cache:!1,data:t.data,success:t.suc_fn,dataType:"json",error:function(e){t.fail_fn?t.fail_fn(e):alert(e.status+" "+e.statusText)}})}!function(e,t){function o(e,t,n){if(!e)return!1;i(),"LocalStorage"==window._store_support_type?window.localStorage.setItem(e,escape(JSON.stringify(t))):"Cookie"==window._store_support_type?function(e,t,n){var o="";if(n){var i=new Date;o=";expires="+(o=i.setTime(i.getTime()+60*n*1e3).toGMTString())}values=escape(JSON.stringify(t)),document.cookie=e+"="+values+o+";path=/"}(e,t,n):console.log("您的浏览器禁用了cookie！")}function n(e){return!!e&&(i(),"LocalStorage"==window._store_support_type?JSON.parse(unescape(window.localStorage.getItem(e))):"Cookie"==window._store_support_type?(n=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),(t=document.cookie.match(n))?JSON.parse(unescape(t[2])):null):void console.log("您的浏览器禁用了cookie！"));var t,n}function i(){window.hasOwnProperty("_store_support_type")||(!function(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}()?!function(){var e=!1;void 0!==navigator.cookieEnabled?e=navigator.cookieEnabled:(document.cookie="test",e="test"==document.cookie,document.cookie="");return!!e}()?window._store_support_type=!1:window._store_support_type="Cookie":window._store_support_type="LocalStorage")}var a={loadFile:function(e,t){this.orderLoadFile(e,t)},orderLoadFile:function(e,t){if(e.length<=0)return!1;var n,o=e.shift();n=o.split(".").pop(),a[n](o,function(){e.length||"function"==typeof t&&t(),a.orderLoadFile(e,t)})},css:function(e,t){if(!e||0===e.length)throw new Error('argument "path" is required !');var n=t||"",o=document.getElementsByTagName("head")[0],i=document.createElement("link");i.href=e,i.rel="stylesheet",i.type="text/css",o.appendChild(i),i.onload=i.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||n&&n()}},js:function(e,t){if(!e||0===e.length)throw new Error('argument "path" is required !');var n=t||"",o=document.getElementsByTagName("head")[0],i=document.createElement("script");i.src=e,i.type="text/javascript",o.appendChild(i),i.onload=i.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||n&&n()}}};var r={tipModal:function(e,t){!function(e,t){$("#bn-tipModal").remove(),clearTimeout(o);var n='<div id="bn-tipModal" class="bn-box-com" style="z-index: 99999;"><div class="bn-box-f bn-flex-m"><div class="bn-tip-content bn-flex-list"><img src="./images/'+("fail"==e?"hud_failed.png":"hud_success.png")+'" alt="image"><p>'+t+"</p></div></div></div>";$("body").append(n);var o=setTimeout(function(){$("#bn-tipModal").remove()},800)}(e,t)},loadingStart:function(e){var t;t='<div id="loading" class="bn-box-com"><div class="bn-box-f"><div class="bouncing-loader"><div></div><div></div><div></div><div></div></div><p style="color: #fff;font-size:18px; text-align: center;">'+(e||"正在发送...")+"</p></div></div>",$("body").append(t)},loadingEnd:function(){$("#loading").remove()},dynamicLoading:function(e,t){a.loadFile(e,t)},getUrlParam:function(e){var t,n;n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),null!=(t=window.location.search.substr(1).match(n))&&decodeURIComponent(t[2])},judgeClient:function(){return-1<(e=navigator.userAgent).indexOf("Android")||e.indexOf("Adr"),e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?"iOS":"Android";var e},storeToLocal:function(e,t,n){o(e,t,n)},getLocalStore:function(e){return n(e)},checkPhoneFormat:function(e){return""==(t=e)?-1:t.length<11?-2:/^1[34578]\d{9}$/.test(t)?1:0;var t},checkCodeFormat:function(e){return""==(t=e)?-1:6!=t.length?-2:/^[0-9]+$/.test(t)?1:0;var t},checkEmailFormat:function(e){return""==(t=e)?-1:/^\w+\@+[0-9a-zA-Z]+\.(com|com.cn|edu|hk|cn|net)$/.test(t)?1:0;var t},isWeiXin:function(){return"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},scrollToTop:function(){return e=document.body.scrollTop||document.documentElement.scrollTop,document.body.style.marginTop=-e+"px",document.body.scrollTop=0,document.documentElement.scrollTop=0,document.body.style.transition="all 1s ease-in-out",document.body.style.marginTop=0,void setTimeout(function(){document.body.style.transition="none"},900);var e},matchKeyWord:function(e){return e.replace(/(\{:).*?(\:})/g,function(e,t,n){return"<"+n+">"})}};window.bn_utils=r}(window,document);